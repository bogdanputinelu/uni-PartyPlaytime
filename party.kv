WindowManager:
    WelcomeScreen:
    LoginScreen:
    RegisterScreen:
    HomeScreen:
    BoardBlitzScreen:
    HeadSpinScreen:
    HeadSpinPlay:
    WordRushScreen:
    TicTacToeScreen:
    HelpUsDecideScreen:
    BoardBlitzGame:

<RoadArrow@MDIcon>:
    pos_hint: {"center_x": .5, "center_y": .5}
    font_size: "35sp"

<RoadStar@MDIcon>:
    icon: "star-outline"
    font_size: "30sp"

<GameInformationCard@MDFloatLayout>:
    size_hint_y: .2
    game_text: ""
    game_description: ""

    ScaleLabel:
        text: root.game_text
        bold: True
        font_style: "H3"
        font_size: "42sp"
        font_name: "fonts/BrunoAce-Regular.ttf"
        scale_value_x: .6
        scale_value_y: .6
        adaptive_size: True
        pos_hint: {"center_y": .7, "center_x": .5}

    ScaleLabel:
        text: root.game_description
        font_size: "22sp"
        scale_value_x: .6
        scale_value_y: .6
        adaptive_size: True
        pos_hint: {"center_y": .3, "center_x": .5}

<GameCardBehavior>:
    next_screen: ""
    focus_color: 0, 0, 0, .2
    unfocus_color: 0, 0, 0, 0
    on_enter: self.change_cursor("hand")
    on_leave: self.change_cursor("arrow")
    MDRectangleFlatButton:
        size_hint: 1, 1
        line_color: 0, 0, 0, 0
        on_release:
            app.root.transition.direction = 'left'
            root.dispatch("on_release", app.root, root.next_screen)

<BoardBlitzButton>:
    focus_color: 1, 1, 1, .8
    unfocus_color: 0, 0, 0, 0
    on_enter: self.change_cursor("hand")
    on_leave: self.change_cursor("arrow")
    button_event: ""
    button_name: ""
    font_dim: "12dp"
    button_id: ""
    elevation: 4
    shadow_softness: 2
    shadow_offset: 0, 1

    MDRectangleFlatButton:
        text: root.button_name
        font_name: "fonts/BrunoAce-Regular.ttf"
        text_color: "black"
        font_size: root.font_dim
        bold: True
        size_hint: 1, 1
        line_color: 0, 0, 0, 0
        on_release:
            app.boardblitz_players(root.button_event, root.button_id)

<GameCard@Game>:
    size_hint_y: None
    height: "180dp"
    source: ""
    game_name: ""
    next_screen: ""
    game_description: ""

    MDAnchorLayout:
        anchor: "center"

        ElevatedBox:
            id: game_card_box
            md_bg_color: "white"
            size_hint_x: .8
            radius: 10
            elevation: 4

            FitImage:
                source: root.source
                size_hint: None, None
                size: "100dp", "100dp"
                pos_hint: {"center_x": .2, "center_y": .6}
                radius: 10

            MDLabel:
                text: root.game_description
                font_name: "fonts/BrunoAce-Regular.ttf"
                font_size: "14sp"
                size_hint: None, None
                size: "180dp", "100dp"
                pos_hint: {"center_x": .7, "center_y": .6}

            MDRelativeLayout:
                id: game_title_box
                radius: 0, 0, 10, 10
                y: game_card_box.top - game_card_box.height
                x: game_card_box.x
                size_hint_y: None
                height: "50dp"

                MDLabel:
                    text: root.game_name
                    bold: True
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    font_size: "26sp"
                    x: game_title_box.x
                    size_hint_x: None
                    width: "220dp"

                IconRightWidget:
                    icon: "arrow-right-bottom"
                    x: game_title_box.x + game_title_box.width / 1.35
                    disabled: True
                    disabled_color: "black"

            GameCardBehavior:
                pos_hint: {"center_x": .5, "center_y": .5}
                radius: 10
                next_screen: root.next_screen

<BoardBlitzStart>:
    id: game_box
    spacing: "12dp"
    size_hint_y: None
    height: "500dp"

    MDBoxLayout:
        id: top_bar
        size_hint: 1.16, None
        height: "60dp"
        y: game_box.top - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10
        spacing: "10dp"

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "window-close"
                pos_hint: {"center_y": .5, "center_x": .5}
                on_release: app.exit_boardblitz_start()

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.width / 2 + dp(36), top_bar.height

            ScaleLabel:
                text: "ENTER NICKNAMES"
                font_name: "fonts/BrunoAce-Regular.ttf"
                font_size: "18sp"
                bold: True
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}

    MDSeparator:
        pos_hint: {"center_x": .5}
        size_hint_x: None
        width: game_box.width * 1.1
        color: "black"
        y: game_box.top - dp(10)

    MDRelativeLayout:
        pos_hint: {"center_x": .5, "center_y": .48}
        size_hint_y: .98

        MDBoxLayout:
            id: players_button_box
            size_hint: 1.2, .12
            pos_hint: {"center_x": .5, "top": 1}
            padding: "10dp"
            spacing: "10dp"

            BoardBlitzButton:
                id: players_button_2_2
                button_id: "players_button_2"
                font_dim: "10dp"
                md_bg_color: 1, 1, 1, .8
                unfocus_color: 1, 1, 1, .8
                button_name: "2 PLAYERS"
                button_event: "2_players"
                radius: 10

            BoardBlitzButton:
                id: players_button_3_2
                button_id: "players_button_3"
                font_dim: "10dp"
                md_bg_color: "white"
                unfocus_color: "white"
                button_name: "3 PLAYERS"
                button_event: "3_players"
                radius: 10

            BoardBlitzButton:
                id: players_button_4_2
                button_id: "players_button_4"
                font_dim: "10dp"
                md_bg_color: "white"
                unfocus_color: "white"
                button_name: "4 PLAYERS"
                button_event: "4_players"
                radius: 10

        MDRelativeLayout:
            id: game_nickname_boxes
            size_hint_y: .7
            y: players_button_box.top - players_button_box.height - self.height

            MDTextField:
                id: boardblitz_nickname_1
                mode: "rectangle"
                hint_text: "Player 2"
                font_name: "fonts/BrunoAce-Regular.ttf"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "280dp"
                x: game_nickname_boxes.x + (game_nickname_boxes.width - self.width) / 2
                pos_hint: {"center_y": .5}
                icon_right: "account"

            MDTextField:
                id: boardblitz_nickname_2
                mode: "rectangle"
                hint_text: "Player 3"
                font_name: "fonts/BrunoAce-Regular.ttf"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "280dp"
                x: game_nickname_boxes.x + (game_nickname_boxes.width - self.width) / 2
                y: dp(1000)
                icon_right: "account"

            MDTextField:
                id: boardblitz_nickname_3
                mode: "rectangle"
                hint_text: "Player 4"
                font_name: "fonts/BrunoAce-Regular.ttf"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "280dp"
                y: dp(1000)
                x: game_nickname_boxes.x + (game_nickname_boxes.width - self.width) / 2
                icon_right: "account"

        MDBoxLayout:
            size_hint_y: .18
            padding: "5dp"

            BoardBlitzButton:
                font_dim: "14dp"
                md_bg_color: "white"
                unfocus_color: "white"
                button_name: "START GAME"
                button_event: "start_game"
                radius: 10

<GameRulesInformation>:
    id: game_box
    spacing: "12dp"
    size_hint_y: None
    height: "500dp"

    MDBoxLayout:
        id: top_bar
        size_hint: 1.16, None
        height: "60dp"
        y: game_box.top - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10
        spacing: "10dp"

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "window-close"
                pos_hint: {"center_y": .5, "center_x": .5}
                on_release: app.exit_game_rules()

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.width / 2 + dp(36), top_bar.height

            ScaleLabel:
                text: "GAME RULES"
                font_name: "fonts/BrunoAce-Regular.ttf"
                font_size: "18sp"
                bold: True
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}

    MDSeparator:
        pos_hint: {"center_x": .5}
        size_hint_x: None
        width: game_box.width * 1.1
        color: "black"
        y: game_box.top - dp(10)

    MDRelativeLayout:
        pos_hint: {"center_x": .5, "center_y": .5}
        size_hint_y: .9

        MDLabel:
            text: "- Players take turns in a clockwise order; highest throw of the die starts.\n\n- Each throw, the player decides which piece to move. A piece simply moves in a clockwise direction around the track given by the number thrown. If no piece can legally move according to the number thrown, play passes to the next player.\n\n- A throw of 6 gives another turn.\n\n- A player must throw a 6 to move a piece from the starting circle onto the first square on the track. The piece moves 6 squares around the circuit beginning with the appropriately coloured start square (and the player then has another turn).\n\n- If a piece lands on a piece of a different colour, the piece jumped upon is returned to its starting circle.\n\n- If a piece lands upon a piece of the same colour, this forms a block. This block cannot be passed or landed on by any opposing piece."
            bold: True
            font_name: "fonts/BrunoAce-Regular.ttf"
            font_size: "12sp"

<AccountInformation>:
    id: account_box
    spacing: "12dp"
    size_hint_y: None
    height: "500dp"

    MDBoxLayout:
        id: top_bar
        size_hint: 1.16, None
        height: "60dp"
        y: account_box.top - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10
        spacing: "10dp"

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "close-thick"
                pos_hint: {"center_y": .5, "center_x": .5}
                on_release: app.exit_dialogue()

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.width / 2 + dp(36), top_bar.height

            ScaleLabel:
                text: "USER INFORMATION"
                font_name: "fonts/BrunoAce-Regular.ttf"
                font_size: "16sp"
                bold: True
                adaptive_size: True
                pos_hint: {"center_x": .45, "center_y": .5}

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "check-bold"
                ripple_alpha: 0
                pos_hint: {"center_x": .3, "center_y": .5}
                icon_color: "black"
                line_color: 0, 0, 0, 0
                on_release: app.save_changes_made()

    MDSeparator:
        pos_hint: {"center_x": .5}
        size_hint_x: None
        width: account_box.width * 1.1
        color: "black"
        y: account_box.top - dp(10)

    MDBoxLayout:
        orientation: "vertical"
        size_hint: 1.16, None
        height: "250dp"
        y: account_box.top - self.height - dp(20)
        pos_hint: {"center_x": .5}
        radius: 10

        MDFloatLayout:
            id: name_box
            size_hint_y: .25

            MDTextField:
                id: first_name_information
                mode: "rectangle"
                hint_text: "First Name"
                font_name: "fonts/BrunoAce-Regular.ttf"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "150dp"
                y: name_box.top - self.height
                x: name_box.x + (name_box.width / 2 - self.width) / 2

            MDTextField:
                id: last_name_information
                mode: "rectangle"
                hint_text: "Last Name"
                font_name: "fonts/BrunoAce-Regular.ttf"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "150dp"
                y: name_box.top - self.height
                x: name_box.x + (3 * name_box.width / 2 - self.width) / 2


        MDFloatLayout:
            id: details_box
            size_hint_y: .75

            MDTextField:
                id: email_information
                mode: "rectangle"
                hint_text: "E-Mail"
                font_name: "fonts/BrunoAce-Regular.ttf"
                icon_right: "email"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "326dp"
                y: details_box.top - self.height
                x: details_box.x + (details_box.width - self.width) / 2

            MDTextField:
                id: nickname_information
                mode: "rectangle"
                hint_text: "Nickname"
                font_name: "fonts/BrunoAce-Regular.ttf"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "326dp"
                y: details_box.top - self.height * 2 - dp(4)
                x: details_box.x + (details_box.width - self.width) / 2

    MDFloatLayout:
        size_hint: 1.16, None
        height: "250dp"
        y: account_box.top - self.height * 2 - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10

        FitImage:
            size_hint: None, None
            size: "220dp", "160dp"
            source: "logos/account_information_logo.png"
            pos_hint: {"center_x": .5, "center_y":.5}

<GameInformation>:
    id: game_box
    spacing: "12dp"
    size_hint_y: None
    height: "500dp"

    MDBoxLayout:
        id: top_bar
        size_hint: 1.16, None
        height: "60dp"
        y: game_box.top - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10
        spacing: "10dp"

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "window-close"
                pos_hint: {"center_y": .5, "center_x": .5}
                on_release: app.exit_game_information()

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.width / 2 + dp(36), top_bar.height

            ScaleLabel:
                text: "GAME INFORMATION"
                font_name: "fonts/BrunoAce-Regular.ttf"
                font_size: "18sp"
                bold: True
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}

    MDSeparator:
        pos_hint: {"center_x": .5}
        size_hint_x: None
        width: game_box.width * 1.1
        color: "black"
        y: game_box.top - dp(10)

    MDBoxLayout:
        orientation: "vertical"
        size_hint: 1.16, None
        height: "490dp"
        y: game_box.top - self.height - dp(20)
        pos_hint: {"center_x": .5}
        radius: 10

        GameInformationCard:
            game_text: "BoardBlitz"
            game_description: "The number of players must be between 2 and 4."

        MDSeparator:
            md_bg_color: "black"
            size_hint_x: None
            opacity: .4
            width: "140dp"
            pos_hint: {"center_x": .5}

        GameInformationCard:
            game_text: "HeadSpin"
            game_description: "This game requires at least 2 teams of players."

        MDSeparator:
            md_bg_color: "black"
            size_hint_x: None
            opacity: .4
            width: "140dp"
            pos_hint: {"center_x": .5}

        GameInformationCard:
            game_text: "WordRush"
            game_description: "This game requires at least 2 teams of players."

        MDSeparator:
            md_bg_color: "black"
            size_hint_x: None
            opacity: .4
            width: "140dp"
            pos_hint: {"center_x": .5}

        GameInformationCard:
            game_text: "TicTacToe"
            game_description: "This game can be played either solo, or with another player."

        MDSeparator:
            md_bg_color: "black"
            size_hint_x: None
            opacity: .4
            width: "140dp"
            pos_hint: {"center_x": .5}

        GameInformationCard:
            game_text: "HelpUsDecide"
            game_description: "This game requires at least 2 players."

<WelcomeScreen>:
    MDAnchorLayout:
        size: root.width, root.height
        anchor_x: "center"
        anchor_y: "center"

        Video:
            source: "logos/StartLogo.mp4"
            state: "play"
            size_hint: 0.5, 0.5
            on_eos:
                root.change_transition_for_welcome(app.root)
                app.root.current = 'helpusdecide'
                root.change_transition(app.root)

<LoginScreen>:
    name: "login"
    md_bg_color: "grey"

    ElevatedBox:
        id: login_box
        size_hint: .75, .75
        pos_hint: {"center_x": .5, "center_y": .5}
        md_bg_color: "white"
        elevation: 3
        padding: "25dp"
        spacing: "25dp"
        radius: 10

        MDFloatLayout:
            size_hint_y: .3
            y: login_box.top - self.height
            pos_hint: {"center_x": .5}

            Image:
                size_hint: None, None
                size: "220dp", "160dp"
                source: "logos/giphy.gif"
                pos_hint: {"center_x": .5, "center_y":.5}
                anim_delay: 0.05
                allow_stretch: True
                keep_ratio: False
                keep_data: True

        MDFloatLayout:
            size_hint_y: .15
            y: login_box.top - self.height*3
            pos_hint: {"center_x": .5}

            ScaleLabel:
                text: "WELCOME"
                font_name: "fonts/LuckiestGuy-Regular.ttf"
                bold: True
                font_size: "40sp"
                pos_hint: {"center_x": .5, "center_y": .5}
                bold: True
                adaptive_size: True

        MDFloatLayout:
            id: login_account_box
            size_hint_y: .55
            y: login_box.top - self.height*1.82
            pos_hint: {"center_x": .5}

            MDTextField:
                id: username_login
                mode: "rectangle"
                hint_text: "Username"
                font_name: "fonts/BrunoAce-Regular.ttf"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "280dp"
                y: login_account_box.top - self.height
                x: login_account_box.x + (login_account_box.width - self.width) / 2
                icon_right: "account"

            MDTextField:
                id: password_login
                mode: "rectangle"
                hint_text: "Password"
                font_name: "fonts/BrunoAce-Regular.ttf"
                password: True
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "280dp"
                y: login_account_box.top - self.height * 2
                x: login_account_box.x + (login_account_box.width - self.width) / 2
                icon_right: "lock"

            MDFlatButton:
                size_hint: None, None
                size: "24dp", "24dp"
                x: login_account_box.x + dp(258)
                y: login_account_box.top - dp(104)
                on_release: root.switch_password_mode()

            MDRectangleFlatButton:
                size_hint: None, None
                width: root.width * 0.6
                text: "Login"
                font_name: "fonts/BrunoAce-Regular.ttf"
                text_color: "black"
                line_color: 0, 0, 0, 1
                y: login_account_box.top - self.height * 6
                x: login_account_box.x + (login_account_box.width - self.width) / 2
                on_release:
                    app.root.transition.direction = 'left'
                    root.login(app.root)

            MDRectangleFlatButton:
                size_hint: None, None
                width: root.width * 0.6
                text: "Register"
                font_name: "fonts/BrunoAce-Regular.ttf"
                text_color: "black"
                line_color: 0, 0, 0, 1
                y: login_account_box.top - self.height * 7 - dp(10)
                x: login_account_box.x + (login_account_box.width - self.width) / 2
                on_release:
                    app.root.transition.direction = 'left'
                    app.root.current = "register"

<RegisterScreen>:
    name: "register"
    md_bg_color: "grey"

    ElevatedBox:
        id: register_box
        size_hint: .75, .85
        pos_hint: {"center_x": .5, "center_y": .5}
        md_bg_color: "white"
        elevation: 3
        padding: "25dp"
        spacing: "25dp"
        radius: 10

        MDFloatLayout:
            size_hint: .1, .05
            x: register_box.x
            y: register_box.top - self.height
            MDIconButton:
                icon: "chevron-left"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_release:
                    app.root.transition.direction = 'right'
                    app.root.current = "login"


        MDFloatLayout:
            size_hint_y: .3
            y: register_box.top - self.height
            pos_hint: {"center_x": .5}

            Image:
                size_hint: None, None
                size: "220dp", "160dp"
                source: "logos/giphy.gif"
                pos_hint: {"center_x": .5, "center_y":.5}
                anim_delay: 0.05
                allow_stretch: True
                keep_ratio: False
                keep_data: True

        MDFloatLayout:
            size_hint_y: .1
            y: register_box.top - self.height*4
            pos_hint: {"center_x": .5}

            ScaleLabel:
                text: "Sign Up!"
                font_size: "30sp"
                font_name: "fonts/LuckiestGuy-Regular.ttf"
                bold: True
                pos_hint: {"center_x": .5, "center_y": .5}
                bold: True
                adaptive_size: True


        MDFloatLayout:
            id: register_account_box
            size_hint_y: .55
            y: register_box.top - self.height*1.82
            pos_hint: {"center_x": .5}

            MDTextField:
                id: username_register
                mode: "rectangle"
                hint_text: "Username"
                font_name: "fonts/BrunoAce-Regular.ttf"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "280dp"
                y: register_account_box.top - self.height / 2
                x: register_account_box.x + (register_account_box.width - self.width) / 2
                icon_right: "account"

            MDTextField:
                id: password_register
                mode: "rectangle"
                hint_text: "Password"
                font_name: "fonts/BrunoAce-Regular.ttf"
                password: True
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "280dp"
                y: register_account_box.top - self.height * 1.5
                x: register_account_box.x + (register_account_box.width - self.width) / 2
                icon_right: "lock"

            MDFlatButton:
                size_hint: None, None
                size: "24dp", "24dp"
                x: register_account_box.x + dp(258)
                y: register_account_box.top - dp(74)
                on_release: root.switch_password_mode()

            MDRectangleFlatButton:
                size_hint: None, None
                width: root.width * 0.6
                text: "Create an account"
                font_name: "fonts/BrunoAce-Regular.ttf"
                text_color: "black"
                line_color: 0, 0, 0, 1
                y: register_account_box.top - self.height * 9 - dp(10)
                x: register_account_box.x + (register_account_box.width - self.width) / 2
                on_release: root.create_account(app.root)

        MDBoxLayout:
            orientation: "vertical"
            size_hint_y:  None
            height: "250dp"
            y: register_box.top - self.height *2.5
            pos_hint: {"center_x": .5}
            radius: 10

            MDFloatLayout:
                id: name_box
                size_hint_y: .25

                MDTextField:
                    id: first_name_register
                    mode: "rectangle"
                    hint_text: "First Name"
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    hint_text_color_focus: 0, 0, 0, 1
                    line_color_focus: 0, 0, 0, 1
                    text_color_focus: 0, 0, 0, 1
                    size_hint_x: None
                    width: "130dp"
                    y: name_box.top - self.height * 1.25 + dp(3)
                    x: name_box.x + (name_box.width / 2 - self.width) / 2

                MDTextField:
                    id: last_name_register
                    mode: "rectangle"
                    hint_text: "Last Name"
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    hint_text_color_focus: 0, 0, 0, 1
                    line_color_focus: 0, 0, 0, 1
                    text_color_focus: 0, 0, 0, 1
                    size_hint_x: None
                    width: "130dp"
                    y: name_box.top - self.height * 1.25 + dp(3)
                    x: name_box.x + (3 * name_box.width / 2 - self.width) / 2


            MDFloatLayout:
                id: details_box
                size_hint_y: .75

                MDTextField:
                    id: email_register
                    mode: "rectangle"
                    hint_text: "E-Mail"
                    icon_right: "email"
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    hint_text_color_focus: 0, 0, 0, 1
                    line_color_focus: 0, 0, 0, 1
                    text_color_focus: 0, 0, 0, 1
                    size_hint_x: None
                    width: "280dp"
                    y: details_box.top - self.height * 1.2 + dp(4)
                    x: details_box.x + (details_box.width - self.width) / 2

                MDTextField:
                    id: nickname_register
                    mode: "rectangle"
                    hint_text: "Nickname"
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    hint_text_color_focus: 0, 0, 0, 1
                    line_color_focus: 0, 0, 0, 1
                    text_color_focus: 0, 0, 0, 1
                    size_hint_x: None
                    width: "280dp"
                    y: details_box.top - self.height * 2.5 + dp(22)
                    x: details_box.x + (details_box.width - self.width) / 2

<HomeScreen>:
    name: "home"
    id: home

    MDBoxLayout:
        orientation: "vertical"
        spacing: "12dp"

        MDTopAppBar:
            id: home_topbar
            md_bg_color: 'white'
            specific_text_color: 'black'
            right_action_items: [['text-box-outline', lambda x: app.game_information()]]
            left_action_items: [['account-outline', lambda x: app.account_info()]]
            elevation: 0

        MDScrollView:

            MDList:
                spacing: "12dp"

                GameCard:
                    source: "logos/Board_Blitz_-_Logo.png"
                    game_name: "BoardBlitz"
                    next_screen: "boardblitz"
                    game_description: "Race your friends and be the first one to get to the finish line!"

                GameCard:
                    source: "logos/Headspin_-_Logo.png"
                    game_name: "HeadSpin"
                    next_screen: "headspin"
                    game_description: "Get dizzy trying to be on the winning team!"

                GameCard:
                    source: "logos/Word_Rush_-_Logo.png"
                    game_name: "WordRush"
                    next_screen: "wordrush"
                    game_description: "Bring out your creativity!"

                GameCard:
                    source: "logos/Tic_Tac_Toe_-_Logo.png"
                    game_name: "TicTacToe"
                    next_screen: "tictactoe"
                    game_description: "Challenge your friends to a 1v1 battle!"

                GameCard:
                    source: "logos/Help_Us_Decide_-_Logo.png"
                    game_name: "HelpUsDecide"
                    next_screen: "helpusdecide"
                    game_description: "Need some help making decisions?"
    MDFloatLayout:
        size_hint: None, None
        size: 0, 0
        MDLabel:
            text: "PartyPlaytime"
            font_name: "fonts/BrunoAce-Regular.ttf"
            font_size: "22sp"
            bold: True
            adaptive_size: True
            y: (home.top - self.height * 1.7)
            x: (home.width - self.width) / 2

<BoardBlitzScreen>:
    name: "boardblitz"
    id: boardblitz
    md_bg_color: "white"

    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            md_bg_color: root.md_bg_color
            specific_text_color: "black"
            elevation: 0
            right_action_items: [['text-box-outline', lambda x: app.open_rules()]]
            left_action_items: [["chevron-left", lambda x: root.go_back(app.root)]]

        MDRelativeLayout:

            MDBoxLayout:
                id: game_picture
                size_hint: .8, .4
                radius: 10
                pos_hint: {"center_x": .5, "top": .95}

                FitImage:
                    source: "logos/Board_Blitz_-_Logo.png"
                    radius: 10

            ElevatedBox:
                id: game_page_description
                md_bg_color: 1, 252/255, 127/255, 1
                radius: 10
                size_hint: .9, .35
                pos_hint: {"center_x": .5}
                y: game_picture.top - game_picture.height - self.height - dp(10)
                elevation: 4
                shadow_softness: 2
                shadow_offset: 0, 1

                MDLabel:
                    id: how_to_play
                    text: "How to Play:"
                    size_hint: None, None
                    size: "250dp", "50dp"
                    bold: True
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    font_size: "22sp"
                    x: game_page_description.x + dp(12)
                    y: game_page_description.top - self.height - dp(12)

                MDLabel:
                    id: game_rules
                    text: "- Check out the rules of the game\n\n- Select by clicking on the buttons down below the number of players\n\n- Introduce the nicknames of the other players\n\n- Press play and have fun!"
                    size_hint: None, None
                    size: "320dp", "180dp"
                    bold: True
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    font_size: "14sp"
                    x: game_page_description.x + dp(15)
                    y: how_to_play.top - how_to_play.height - self.height

                MDIconButton:
                    icon: "text-box-outline"
                    size_hint: None, None
                    size: "30dp", "30dp"
                    y: game_page_description.top - game_rules.height / 1.6 + dp(5)
                    x: game_rules.x + game_rules.width - dp(24)
                    on_release: app.open_rules()

            BoardBlitzButton:
                md_bg_color: "green"
                unfocus_color: "green"
                button_event: "choose_names_and_play"
                button_name: "CHOOSE NICKNAMES AND PLAY!"
                font_dim: "16dp"
                focus_color: 0, 0, 0, .2
                elevation: 0
                radius: 10
                size_hint: .9, .08
                pos_hint: {"center_x": .5}
                y: game_page_description.top - game_page_description.height - self.height - dp(10)

            MDBoxLayout:
                size_hint_y: .08
                pos_hint: {"center_x": .5}
                padding: "10dp"
                spacing: "10dp"

                BoardBlitzButton:
                    id: players_button_2
                    button_id: "players_button_2"
                    md_bg_color: 1, 1, 1, .8
                    unfocus_color: 1, 1, 1, .8
                    button_name: "2 PLAYERS"
                    button_event: "2_players"
                    radius: 10

                BoardBlitzButton:
                    id: players_button_3
                    button_id: "players_button_3"
                    md_bg_color: "white"
                    unfocus_color: "white"
                    button_name: "3 PLAYERS"
                    button_event: "3_players"
                    radius: 10

                BoardBlitzButton:
                    id: players_button_4
                    button_id: "players_button_4"
                    md_bg_color: "white"
                    unfocus_color: "white"
                    button_name: "4 PLAYERS"
                    button_event: "4_players"
                    radius: 10

    MDFloatLayout:
        size_hint: None, None
        size: 0, 0
        MDLabel:
            text: "BoardBlitz"
            font_name: "fonts/BrunoAce-Regular.ttf"
            font_size: "22sp"
            bold: True
            adaptive_size: True
            y: (boardblitz.top - self.height * 1.7)
            x: (boardblitz.width - self.width) / 2

<BoardBlitzGame>:
    name: "boardblitz_game"
    id: boardblitz

    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            md_bg_color: "white"
            specific_text_color: "black"
            elevation: 0
            left_action_items: [["window-close", lambda x: app.exit_boardblitz_game()]]

        MDSeparator:
            width: "80dp"
            color: "black"

        MDRelativeLayout:
            id: game_page_space
            md_bg_color: 0, 0, 0, .1

            MDRelativeLayout:
                id: boardblitz_table
                md_bg_color: "white"
                size_hint: None, None
                size: game_page_space.width, game_page_space.width
                pos_hint: {"center_y": .5}

                MDFloatLayout:
                    id: red_box
                    size_hint: None, None
                    md_bg_color: "red"
                    line_color: "black"
                    size: boardblitz_table.width / 2.5, boardblitz_table.width / 2.5

                    MDRelativeLayout:
                        id: inside_red_box
                        size_hint: None, None
                        md_bg_color: "white"
                        radius: 10
                        size: red_box.width / 1.4, red_box.width / 1.4
                        pos_hint: {"center_x": .5, "center_y": .5}

                        MDRelativeLayout:
                            md_bg_color: "red"
                            size_hint: None, None
                            radius: 100
                            size: inside_red_box.width / 3.3, inside_red_box.width / 3.3
                            pos_hint: {"center_x": .25, "center_y": .75}

                        MDRelativeLayout:
                            md_bg_color: "red"
                            size_hint: None, None
                            radius: 100
                            size: inside_red_box.width / 3.3, inside_red_box.width / 3.3
                            pos_hint: {"center_x": .75, "center_y": .75}

                        MDRelativeLayout:
                            md_bg_color: "red"
                            size_hint: None, None
                            radius: 100
                            size: inside_red_box.width / 3.3, inside_red_box.width / 3.3
                            pos_hint: {"center_x": .25, "center_y": .25}

                        MDRelativeLayout:
                            md_bg_color: "red"
                            size_hint: None, None
                            radius: 100
                            size: inside_red_box.width / 3.3, inside_red_box.width / 3.3
                            pos_hint: {"center_x": .75, "center_y": .25}

                MDFloatLayout:
                    id: blue_box
                    size_hint: None, None
                    md_bg_color: "blue"
                    line_color: "black"
                    size: boardblitz_table.width / 2.5, boardblitz_table.width / 2.5
                    pos_hint: {"right": 1}

                    MDRelativeLayout:
                        id: inside_blue_box
                        size_hint: None, None
                        md_bg_color: "white"
                        radius: 10
                        size: blue_box.width / 1.4, blue_box.width / 1.4
                        pos_hint: {"center_x": .5, "center_y": .5}

                        MDRelativeLayout:
                            md_bg_color: "blue"
                            size_hint: None, None
                            radius: 100
                            size: inside_blue_box.width / 3.3, inside_blue_box.width / 3.3
                            pos_hint: {"center_x": .25, "center_y": .75}

                        MDRelativeLayout:
                            md_bg_color: "blue"
                            size_hint: None, None
                            radius: 100
                            size: inside_blue_box.width / 3.3, inside_blue_box.width / 3.3
                            pos_hint: {"center_x": .75, "center_y": .75}

                        MDRelativeLayout:
                            md_bg_color: "blue"
                            size_hint: None, None
                            radius: 100
                            size: inside_blue_box.width / 3.3, inside_blue_box.width / 3.3
                            pos_hint: {"center_x": .25, "center_y": .25}

                        MDRelativeLayout:
                            md_bg_color: "blue"
                            size_hint: None, None
                            radius: 100
                            size: inside_blue_box.width / 3.3, inside_blue_box.width / 3.3
                            pos_hint: {"center_x": .75, "center_y": .25}

                MDFloatLayout:
                    id: green_box
                    size_hint: None, None
                    md_bg_color: "green"
                    line_color: "black"
                    size: boardblitz_table.width / 2.5, boardblitz_table.width / 2.5
                    pos_hint: {"top": 1}

                    MDRelativeLayout:
                        id: inside_green_box
                        size_hint: None, None
                        md_bg_color: "white"
                        radius: 10
                        size: green_box.width / 1.4, green_box.width / 1.4
                        pos_hint: {"center_x": .5, "center_y": .5}

                        MDRelativeLayout:
                            md_bg_color: "green"
                            size_hint: None, None
                            radius: 100
                            size: inside_green_box.width / 3.3, inside_green_box.width / 3.3
                            pos_hint: {"center_x": .25, "center_y": .75}

                        MDRelativeLayout:
                            md_bg_color: "green"
                            size_hint: None, None
                            radius: 100
                            size: inside_green_box.width / 3.3, inside_green_box.width / 3.3
                            pos_hint: {"center_x": .75, "center_y": .75}

                        MDRelativeLayout:
                            md_bg_color: "green"
                            size_hint: None, None
                            radius: 100
                            size: inside_green_box.width / 3.3, inside_green_box.width / 3.3
                            pos_hint: {"center_x": .25, "center_y": .25}

                        MDRelativeLayout:
                            md_bg_color: "green"
                            size_hint: None, None
                            radius: 100
                            size: inside_green_box.width / 3.3, inside_green_box.width / 3.3
                            pos_hint: {"center_x": .75, "center_y": .25}

                MDFloatLayout:
                    id: yellow_box
                    size_hint: None, None
                    md_bg_color: "yellow"
                    line_color: "black"
                    size: boardblitz_table.width / 2.5, boardblitz_table.width / 2.5
                    pos_hint: {"right": 1, "top": 1}

                    MDRelativeLayout:
                        id: inside_yellow_box
                        size_hint: None, None
                        md_bg_color: "white"
                        radius: 10
                        size: yellow_box.width / 1.4, yellow_box.width / 1.4
                        pos_hint: {"center_x": .5, "center_y": .5}

                        MDRelativeLayout:
                            md_bg_color: "yellow"
                            radius: 100
                            size_hint: None, None
                            size: inside_yellow_box.width / 3.3, inside_yellow_box.width / 3.3
                            pos_hint: {"center_x": .25, "center_y": .75}

                        MDRelativeLayout:
                            md_bg_color: "yellow"
                            size_hint: None, None
                            radius: 100
                            size: inside_yellow_box.width / 3.3, inside_yellow_box.width / 3.3
                            pos_hint: {"center_x": .75, "center_y": .75}

                        MDRelativeLayout:
                            md_bg_color: "yellow"
                            size_hint: None, None
                            radius: 100
                            size: inside_yellow_box.width / 3.3, inside_yellow_box.width / 3.3
                            pos_hint: {"center_x": .25, "center_y": .25}

                        MDRelativeLayout:
                            md_bg_color: "yellow"
                            size_hint: None, None
                            radius: 100
                            size: inside_yellow_box.width / 3.3, inside_yellow_box.width / 3.3
                            pos_hint: {"center_x": .75, "center_y": .25}

                MDRelativeLayout:
                    id: down_road
                    size_hint: None, None
                    size: boardblitz_table.width / 5, boardblitz_table.width / 2.5
                    pos_hint: {"center_x": .5}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_x": .5}

                        RoadArrow:
                            icon: "chevron-up"
                            color: "red"

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"right": 1}

                    MDFloatLayout:
                        id: red_star
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "red"
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_y": .25}

                        RoadStar:
                            x: red_star.x - dp(1.5)
                            y: red_star.y - dp(1)

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "red"
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .25}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"right": 1, "center_y": .25}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_y": .417}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "red"
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .417}

                    MDFloatLayout:
                        id: grey_star_1
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "grey"
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"right": 1, "center_y": .417}

                        RoadStar:
                            x: grey_star_1.x - dp(1)
                            y: grey_star_1.y - dp(1)

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_y": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "red"
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"right": 1, "center_y": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_y": .75}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "red"
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .75}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"right": 1, "center_y": .75}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_y": .918}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "red"
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .918}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: down_road.width / 3, down_road.width / 3
                        pos_hint: {"right": 1, "center_y": .918}

                MDRelativeLayout:
                    id: up_road
                    size_hint: None, None
                    size: boardblitz_table.width / 5, boardblitz_table.width / 2.5
                    pos_hint: {"center_x": .5, "top": 1}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "yellow"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .5}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"right": 1}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .25}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "yellow"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .25}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"right": 1, "center_y": .25}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .417}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "yellow"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .417}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"right": 1, "center_y": .417}

                    MDFloatLayout:
                        id: grey_star_2
                        md_bg_color: "grey"
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .582}

                        RoadStar:
                            x: grey_star_2.x - dp(1)
                            y: grey_star_2.y - dp(1)

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "yellow"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"right": 1, "center_y": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .75}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "yellow"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .75}

                    MDFloatLayout:
                        id: yellow_star
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "yellow"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"right": 1, "center_y": .75}

                        RoadStar:
                            x: yellow_star.x - dp(1.5)
                            y: yellow_star.y - dp(1)

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .918}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .5, "center_y": .918}

                        RoadArrow:
                            icon: "chevron-down"
                            color: "yellow"

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"right": 1, "center_y": .918}

                MDRelativeLayout:
                    id: left_road
                    size_hint: None, None
                    size: boardblitz_table.width / 2.5, boardblitz_table.width / 5
                    pos_hint: {"center_y": .5}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5}

                        RoadArrow:
                            icon: "chevron-right"
                            color: "green"

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .25}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "green"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .25}

                    MDFloatLayout:
                        id: green_star
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "green"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .25}

                        RoadStar:
                            x: green_star.x - dp(1.5)
                            y: green_star.y - dp(1)

                    MDFloatLayout:
                        id: grey_star_3
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .417}
                        md_bg_color: "grey"

                        RoadStar:
                            x: grey_star_3.x - dp(1)
                            y: grey_star_3.y - dp(1)

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "green"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .417}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .417}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "green"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .75}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "green"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .75}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .75}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .918}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "green"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .918}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .918}

                MDRelativeLayout:
                    id: right_road
                    size_hint: None, None
                    size: boardblitz_table.width / 2.5, boardblitz_table.width / 5
                    pos_hint: {"center_y": .5, "right": 1}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "blue"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .25}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "blue"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .25}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .25}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .417}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "blue"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .417}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .417}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .582}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "blue"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .582}

                    MDFloatLayout:
                        id: grey_star_4
                        md_bg_color: "grey"
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .582}

                        RoadStar:
                            x: grey_star_4.x - dp(1)
                            y: grey_star_4.y - dp(1)

                    MDFloatLayout:
                        id: blue_star
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "blue"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .75}

                        RoadStar:
                            x: blue_star.x - dp(1.5)
                            y: blue_star.y - dp(1)

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        md_bg_color: "blue"
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .75}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .75}

                    MDBoxLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_x": .918}

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"center_y": .5, "center_x": .918}

                        RoadArrow:
                            icon: "chevron-left"
                            color: "blue"

                    MDFloatLayout:
                        line_color: "black"
                        size_hint: None, None
                        size: up_road.width / 3, up_road.width / 3
                        pos_hint: {"top": 1, "center_x": .918}

                MDFloatLayout:
                    size_hint: None, None
                    size: boardblitz_table.width / 5, boardblitz_table.width / 5
                    pos_hint: {"center_x": .5, "center_y": .5}

                    FitImage:
                        source: "logos/center.png"
                        size_hint: 1, 1
                        pos_hint: {"center_x": .5, "center_y": .5}

    ElevatedBox:
        id: first_avatar_box
        size_hint: None, None
        size: "160dp", "70dp"
        pos_hint: {"center_y": .15, "center_x": .2}

        ElevatedBox:
            id: avatar_box_1
            size_hint: None, None
            size: "60dp", "60dp"
            md_bg_color: "black"
            radius: 10
            elevation: 4
            shadow_softness: 2
            shadow_offset: 0, 1
            y: first_avatar_box.top - self.height - dp(6)
            x: first_avatar_box.x + dp(6)

            FitImage:
                id: first_player_avatar
                source: "boardblitz_characters/panini.png"
                radius: 10
                y: avatar_box_1.top - self.height
                x: avatar_box_1.x

        MDRelativeLayout:
            size_hint_x: None
            width: "100dp"
            pos_hint: {"right": 1, "center_y": .5}

            MDLabel:
                id: first_player_nickname
                text: "nickname 1"
                font_name: "fonts/LuckiestGuy-Regular.ttf"
                font_size: "14sp"
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}

    ElevatedBox:
        id: second_avatar_box
        size_hint: None, None
        size: "160dp", "70dp"
        pos_hint: {"center_y": .15, "right": 1}

        ElevatedBox:
            id: avatar_box_2
            size_hint: None, None
            size: "60dp", "60dp"
            md_bg_color: "black"
            radius: 10
            elevation: 4
            shadow_softness: 2
            shadow_offset: 0, 1
            y: second_avatar_box.top - self.height - dp(6)
            x: second_avatar_box.right - self.width - dp(6)

            FitImage:
                id: second_player_avatar
                source: "boardblitz_characters/chowder.png"
                radius: 10
                y: avatar_box_2.top - self.height
                x: avatar_box_2.x

        MDRelativeLayout:
            size_hint_x: None
            width: "100dp"
            pos_hint: {"center_y": .5}
            x: second_avatar_box.x

            MDLabel:
                id: second_player_nickname
                text: "Nickname 2"
                size_hint_x: None
                font_name: "fonts/LuckiestGuy-Regular.ttf"
                font_size: "14sp"
                adaptive_size: True
                pos_hint: {"right": .85, "center_y": .5}

    ElevatedBox:
        id: third_avatar_box
        size_hint: None, None
        size: "160dp", "70dp"
        pos_hint: {"center_y": .77, "center_x": .2}

        ElevatedBox:
            id: avatar_box_3
            size_hint: None, None
            size: "60dp", "60dp"
            md_bg_color: "black"
            radius: 10
            elevation: 4
            shadow_softness: 2
            shadow_offset: 0, 1
            y: third_avatar_box.top - self.height - dp(6)
            x: third_avatar_box.x + dp(6)

            FitImage:
                id: third_player_avatar
                source: "boardblitz_characters/truffles.png"
                radius: 10
                y: avatar_box_3.top - self.height
                x: avatar_box_3.x

        MDRelativeLayout:
            size_hint_x: None
            width: "100dp"
            pos_hint: {"right": 1, "center_y": .5}

            MDLabel:
                id: third_player_nickname
                text: "nickname 3"
                font_name: "fonts/LuckiestGuy-Regular.ttf"
                font_size: "14sp"
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}

    ElevatedBox:
        id: fourth_avatar_box
        size_hint: None, None
        size: "160dp", "70dp"
        pos_hint: {"center_y": .77, "right": 1}

        ElevatedBox:
            id: avatar_box_4
            size_hint: None, None
            size: "60dp", "60dp"
            md_bg_color: "black"
            radius: 10
            elevation: 4
            shadow_softness: 2
            shadow_offset: 0, 1
            y: fourth_avatar_box.top - self.height - dp(6)
            x: fourth_avatar_box.right - self.width - dp(6)

            FitImage:
                id: fourth_player_avatar
                source: "boardblitz_characters/gazpacho.png"
                radius: 10
                y: avatar_box_4.top - self.height
                x: avatar_box_4.x

        MDRelativeLayout:
            size_hint_x: None
            width: "100dp"
            pos_hint: {"center_y": .5}
            x: fourth_avatar_box.x

            MDLabel:
                id: fourth_player_nickname
                text: "Nickname 4"
                size_hint_x: None
                font_name: "fonts/LuckiestGuy-Regular.ttf"
                font_size: "14sp"
                adaptive_size: True
                pos_hint: {"right": .85, "center_y": .5}

    MDFloatLayout:
        size_hint: None, None
        size: 0, 0
        MDLabel:
            text: "BoardBlitz"
            font_name: "fonts/BrunoAce-Regular.ttf"
            font_size: "22sp"
            bold: True
            adaptive_size: True
            y: (boardblitz.top - self.height * 1.7)
            x: (boardblitz.width - self.width) / 2


<HeadSpinScreen>:
    name: "headspin"
    id: headspin
    md_bg_color: "white"

    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            md_bg_color: root.md_bg_color
            specific_text_color: "black"
            elevation: 0
            right_action_items: [["text-box-outline", lambda x: app.headspin_rules()]]
            left_action_items: [["chevron-left", lambda x: root.go_back(app.root)]]

        MDRelativeLayout:

            MDBoxLayout:
                id: game_picture
                size_hint: .8, .4
                radius: 10
                pos_hint: {"center_x": .5, "top": .95}

                FitImage:
                    source: "logos/Headspin_-_Logo.png"
                    radius: 10

            ElevatedBox:
                id: game_page_description
                md_bg_color: 1, 252/255, 127/255, 1
                radius: 10
                size_hint: .9, .25
                pos_hint: {"center_x": .5}
                y: game_picture.top - game_picture.height - self.height - dp(10)
                elevation: 4
                shadow_softness: 2
                shadow_offset: 0, 1

                MDLabel:
                    id: how_to_play
                    text: "How to Play:"
                    size_hint: None, None
                    size: "200dp", "50dp"
                    bold: True
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    font_size: "22sp"
                    x: game_page_description.x + dp(12)
                    y: game_page_description.top - self.height - dp(12)

                MDLabel:
                    id: game_rules
                    text: "- Check out the rules of the game\n\n- Change the game settings\n\n- Press play and have fun!"
                    size_hint: None, None
                    size: "320dp", "100dp"
                    bold: True
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    font_size: "14sp"
                    x: game_page_description.x + dp(15)
                    y: how_to_play.top - how_to_play.height - self.height

            HeadSpinButtonSettings:
                id: settings_button
                md_bg_color: 0, 0, 0, .4
                unfocus_color: 0, 0, 0, .4
                button_event: "open_headspin_settings"
                button_name: "SETTINGS"
                font_dim: "16dp"
                focus_color: 0, 0, 0, .2
                elevation: 0
                radius: 10
                size_hint: .5, .08
                pos_hint: {"center_x": .5}
                y: game_page_description.top - game_page_description.height - self.height - dp(10)

            HeadSpinButtonPlay:
                md_bg_color: "green"
                unfocus_color: "green"
                button_event: "headspinPlay"
                button_name: "PLAY!"
                font_dim: "16dp"
                focus_color: 0, 0, 0, .2
                elevation: 0
                radius: 10
                size_hint: .9, .08
                pos_hint: {"center_x": .5}
                y: game_page_description.top - game_page_description.height - settings_button.height - self.height - dp(20)

    MDFloatLayout:
        size_hint: None, None
        size: 0, 0

        MDLabel:
            text: "Headspin"
            font_name: "fonts/BrunoAce-Regular.ttf"
            font_size: "22sp"
            bold: True
            adaptive_size: True
            y: (headspin.top - self.height * 1.7)
            x: (headspin.width - self.width) / 2


<HeadSpinButtonSettings>:
    focus_color: 1, 1, 1, .8
    unfocus_color: 0, 0, 0, 0
    on_enter: self.change_cursor("hand")
    on_leave: self.change_cursor("arrow")
    button_event: ""
    button_name: ""
    font_dim: "12dp"
    button_id: ""
    elevation: 4
    shadow_softness: 2
    shadow_offset: 0, 1

    MDRectangleFlatButton:
        text: root.button_name
        font_name: "fonts/BrunoAce-Regular.ttf"
        text_color: "black"
        font_size: root.font_dim
        bold: True
        size_hint: 1, 1
        line_color: 0, 0, 0, 0
        on_release:
            app.headspin_settings()

<HeadSpinButtonPlay>:
    focus_color: 1, 1, 1, .8
    unfocus_color: 0, 0, 0, 0
    on_enter: self.change_cursor("hand")
    on_leave: self.change_cursor("arrow")
    button_event: ""
    button_name: ""
    font_dim: "12dp"
    button_id: ""
    elevation: 4
    shadow_softness: 2
    shadow_offset: 0, 1

    MDRectangleFlatButton:
        text: root.button_name
        font_name: "fonts/BrunoAce-Regular.ttf"
        text_color: "black"
        font_size: root.font_dim
        bold: True
        size_hint: 1, 1
        line_color: 0, 0, 0, 0
        on_release:
            app.root.current = 'headspinPlay'


<HeadSpinSettings>:
    id: headspin_settings
    spacing: "12dp"
    size_hint_y: None
    height: "500dp"

    MDBoxLayout:
        id: top_bar
        size_hint: 1.16, None
        height: "60dp"
        y: headspin_settings.top - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10
        spacing: "10dp"

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "close-thick"
                pos_hint: {"center_y": .5, "center_x": .5}
                on_release: app.headspin_settings_exit()

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.width / 2 + dp(36), top_bar.height

            ScaleLabel:
                text: "HEADSPIN SETTINGS"
                font_name: "fonts/BrunoAce-Regular.ttf"
                font_size: "18sp"
                bold: True
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "check-bold"
                pos_hint: {"center_x": .6, "center_y": .5}
                icon_color: "black"
                font_size: "20dp"
                text_color: "black"
                line_color: 0, 0, 0, 0
                on_release: app.headspin_save_settings()

    MDSeparator:
        pos_hint: {"center_x": .5}
        size_hint_x: None
        width: headspin_settings.width * 1.1
        color: "black"
        y: headspin_settings.top - dp(10)

    MDBoxLayout:
        orientation: "vertical"
        size_hint: 1.16, None
        height: "250dp"
        y: headspin_settings.top - self.height - dp(20)
        pos_hint: {"center_x": .5}
        radius: 10

        MDFloatLayout:
            id: rounds_and_teams_box
            size_hint_y: .25

            MDTextField:
                id: round_information
                mode: "rectangle"
                hint_text: "Rounds"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "150dp"
                y: rounds_and_teams_box.top - self.height
                x: rounds_and_teams_box.x + (rounds_and_teams_box.width / 2 - self.width) / 2

            MDTextField:
                id: team_information
                mode: "rectangle"
                hint_text: "Teams"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "150dp"
                y: rounds_and_teams_box.top - self.height
                x: rounds_and_teams_box.x + (3 * rounds_and_teams_box.width / 2 - self.width) / 2

        MDFloatLayout:
            id: details_box
            size_hint_y: .50

            MDTextField:
                id: timer_information
                mode: "rectangle"
                hint_text: "Timer"
                icon_right: "clock-outline"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "326dp"
                y: details_box.top - self.height
                x: details_box.x + (details_box.width - self.width) / 2

            MDTextField:
                id: words_information
                mode: "rectangle"
                hint_text: "Custom Words"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "326dp"
                y: details_box.top - self.height * 2 - dp(4)
                x: details_box.x + (details_box.width - self.width) / 2

        MDFloatLayout:
            id: players_box
            size_hint_y: .25

            MDTextField:
                id: players_information
                mode: "rectangle"
                hint_text: "Players"
                hint_text_color_focus: 0, 0, 0, 1
                line_color_focus: 0, 0, 0, 1
                text_color_focus: 0, 0, 0, 1
                size_hint_x: None
                width: "326dp"
                y: players_box.top - self.height
                x: players_box.x + (players_box.width - self.width) / 2

    MDFloatLayout:
        size_hint: 1.16, None
        height: "250dp"
        y: headspin_settings.top - self.height * 2 - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10

        FitImage:
            size_hint: None, None
            size: "220dp", "160dp"
            source: "logos/account_information_logo.png"
            pos_hint: {"center_x": .5, "center_y":.5}

<HeadSpinRules>:
    id: headspin_rules
    spacing: "12dp"
    size_hint_y: None
    height: "500dp"

    MDBoxLayout:
        id: top_bar
        size_hint: 1.16, None
        height: "60dp"
        y: headspin_rules.top - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10
        spacing: "10dp"

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "window-close"
                pos_hint: {"center_y": .5, "center_x": .5}
                on_release: app.exit_headspin_rules()

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.width / 2 + dp(36), top_bar.height

            ScaleLabel:
                text: "HeadSpin Rules"
                font_size: "18sp"
                font_name: "fonts/BrunoAce-Regular.ttf"
                bold: True
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}

    MDSeparator:
        pos_hint: {"center_x": .5}
        size_hint_x: None
        width: headspin_rules.width * 1.1
        color: "black"
        y: headspin_rules.top - dp(10)

    MDBoxLayout:
        orientation: "vertical"
        size_hint: 1.16, None
        height: "490dp"
        y: headspin_rules.top - self.height - dp(20)
        pos_hint: {"center_x": .5}
        radius: 10
        halign: "center"

        MDScrollView:
            id: scroll

            MDList:
                spacing: "12dp"
                id: headspin_list

                MDBoxLayout:
                    size_hint_y: None
                    height: "160dp"
                    padding: "10dp"

                    MDLabel:
                        text: "Before starting the game, make sure you have customized the game settings! Enter the number of rounds, the number of teams, custom words and player names. Teams will be randomly formed of two people, so make sure you enter an even number of people!"
                        font_size: "14sp"
                        font_name: "fonts/BrunoAce-Regular.ttf"
                        halign: "center"
                        valign: "center"
                        pos_hint: {"center_x": .5, "center_y": .5}

                MDBoxLayout:
                    size_hint_y: None
                    padding: "10dp"
                    height: "380dp"

                    MDLabel:
                        text: "Collect as many points as possible by guessing who is on the card using only your partner clues. At each stage of the game, one player from each team will stay behind the device, without seeing the card displayed on the screen. Each player will have one minute to guess as many cards as possible. The other player will yell out clues for the first player. The first player will try to guess who is on their card until they either guess the correct answer or they decide to pass. If the player guesses correctly they have a point. If they pass, the first card is discarded and another card will be displayed on the screen. The player continues to guess cards until time is up. Repeat until the rounds have run out. After that, each team counts their cards and the team with the most cards wins."
                        font_size: "14sp"
                        font_name: "fonts/BrunoAce-Regular.ttf"
                        halign: "center"
                        valign: "center"
                        pos_hint: {"center_x": .5, "center_y": .5}

<HeadSpinPlay>:
    name: "headspinPlay"
    id: headspin
    md_bg_color: "white"

    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            md_bg_color: "white"
            specific_text_color: "black"
            elevation: 0
            left_action_items: [["window-close", lambda x: app.exit_headspin_game()]]

        MDSeparator:
            width: "80dp"
            color: "black"

        MDRelativeLayout:
            id: game_page_space
            md_bg_color: 0, 0, 0, .1

    MDFloatLayout:
        size_hint: None, None
        size: 0, 0

        MDLabel:
            text: "Headspin"
            font_name: "fonts/BrunoAce-Regular.ttf"
            font_size: "22sp"
            bold: True
            adaptive_size: True
            y: (headspin.top - self.height * 1.7)
            x: (headspin.width - self.width) / 2

    MDAnchorLayout:
        anchor: "center"
        size_hint_y: None
        height: "180dp"
        pos_hint: {"center_x": .5, "center_y": .5}

        ElevatedBox:
            id: game_card_box
            md_bg_color: "white"
            size_hint_x: .8
            radius: 10
            elevation: 4

            FitImage:
                source: "logos/Headspin_Question.png"
                size_hint: None, None
                size: "100dp", "100dp"
                pos_hint: {"center_x": .2, "center_y": .6}
                radius: 10

            MDLabel:
                text: "CUVANT"
                font_name: "fonts/BrunoAce-Regular.ttf"
                font_size: "26sp"
                size_hint: None, None
                size: "180dp", "100dp"
                pos_hint: {"center_x": .7, "center_y": .6}

            MDRelativeLayout:
                id: game_title_box
                radius: 0, 0, 10, 10
                y: game_card_box.top - game_card_box.height
                x: game_card_box.x
                size_hint_y: None
                height: "50dp"

                MDLabel:
                    text: "Guess the word!"
                    bold: True
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    font_size: "18sp"
                    x: game_title_box.x
                    size_hint_x: None
                    width: "220dp"

    MDGridLayout:
        size_hint_y: None
        id: grid
        height: "180dp"
        cols: 2
        md_bg_color: "red"
        pos_hint: {"center_x": .5, "center_y": .175}

        ElevatedBox:
            id: game_card_box
            md_bg_color: "white"
            size_hint_x: .2
            width: "10dp"
            height: "20dp"
            pos_hint: {"center_x": .5, "center_y": .5}
            radius: 10
            elevation: 4

            MDRectangleFlatIconButton:
                icon: "check"
                text: "CHECK"
                icon_size: "40dp"
                ripple_alpha: 0
                font_name: "fonts/BrunoAce-Regular.ttf"
                pos_hint: {"center_x": .5, "center_y": .5}
                icon_color: "black"
                text_color: "black"
                line_color: 0, 0, 0, 0

        ElevatedBox:
            id: game_card_box
            md_bg_color: "white"
            pos_hint: {"center_x": .5, "center_y": .5}
            width: "20dp"
            height: "20dp"
            size_hint_x: .2
            radius: 10
            elevation: 4

            MDRectangleFlatIconButton:
                icon: "window-close"
                text: "PASS"
                icon_size: "40dp"
                ripple_alpha: 0
                font_name: "fonts/BrunoAce-Regular.ttf"
                pos_hint: {"center_x": .5, "center_y": .5}
                icon_color: "black"
                text_color: "black"
                line_color: 0, 0, 0, 0


<WordRushScreen>:
    name: "wordrush"
    md_bg_color: "yellow"

    MDFlatButton:
        text: "aici wordrush"
        on_release: app.root.current = 'home'
        md_bg_color: "white"
        pos_hint: {"center_y": .5, "center_x": .5}

<TicTacToeScreen>:
    name: "tictactoe"
    md_bg_color: "grey"

    MDFlatButton:
        text: "aici tictactoe"
        on_release: app.root.current = 'home'
        md_bg_color: "white"
        pos_hint: {"center_y": .5, "center_x": .5}

<HelpUsDecideScreen>:
    name: "helpusdecide"
    md_bg_color: "white"
    id: helpusdecide

    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            md_bg_color: root.md_bg_color
            specific_text_color: "black"
            elevation: 0
            right_action_items: [["text-box-outline", lambda x: app.helpusdecide_rules()]]
            left_action_items: [["chevron-left", lambda x: root.go_back(app.root)]]

        MDRelativeLayout:

            MDBoxLayout:
                id: game_picture
                size_hint: .8, .4
                radius: 10
                pos_hint: {"center_x": .5, "top": .95}

                FitImage:
                    source: "logos/Help_Us_Decide_-_Logo.png"
                    radius: 10

            ElevatedBox:
                id: game_page_description
                md_bg_color: 1, 252/255, 127/255, 1
                radius: 10
                size_hint: .9, .25
                pos_hint: {"center_x": .5}
                y: game_picture.top - game_picture.height - self.height - dp(10)
                elevation: 4
                shadow_softness: 2
                shadow_offset: 0, 1

                MDLabel:
                    id: how_to_play
                    text: "How to make a Poll:"
                    size_hint: None, None
                    size: "200dp", "50dp"
                    bold: True
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    font_size: "22sp"
                    x: game_page_description.x + dp(12)
                    y: game_page_description.top - self.height - dp(12)

                MDLabel:
                    id: game_rules
                    text: "- Check out the poll settings and instructions \n\n- Change the names of the participants and the options \n\n- Press 'Make a poll!' and start voting!"
                    size_hint: None, None
                    size: "320dp", "100dp"
                    bold: True
                    font_name: "fonts/BrunoAce-Regular.ttf"
                    font_size: "14sp"
                    x: game_page_description.x + dp(15)
                    y: how_to_play.top - how_to_play.height - self.height

            HelpUsDecideButtonSettings:
                id: settings_button
                md_bg_color: 0, 0, 0, .4
                unfocus_color: 0, 0, 0, .4
                button_event: "open_headspin_settings"
                button_name: "SETTINGS"
                font_dim: "16dp"
                focus_color: 0, 0, 0, .2
                elevation: 0
                radius: 10
                size_hint: .5, .08
                pos_hint: {"center_x": .5}
                y: game_page_description.top - game_page_description.height - self.height - dp(10)


<HelpUsDecideButtonSettings>:
    focus_color: 1, 1, 1, .8
    unfocus_color: 0, 0, 0, 0
    on_enter: self.change_cursor("hand")
    on_leave: self.change_cursor("arrow")
    button_event: ""
    button_name: ""
    font_dim: "12dp"
    button_id: ""
    elevation: 4
    shadow_softness: 2
    shadow_offset: 0, 1

    MDRectangleFlatButton:
        text: root.button_name
        font_name: "fonts/BrunoAce-Regular.ttf"
        text_color: "black"
        font_size: root.font_dim
        bold: True
        size_hint: 1, 1
        line_color: 0, 0, 0, 0
        on_release:
            app.helpusdecide_settings()

<HelpUsDecideSettings>:
    id: helpusdecide_settings
    spacing: "12dp"
    size_hint_y: None
    height: "500dp"

    MDBoxLayout:
        id: top_bar
        size_hint: 1.16, None
        height: "60dp"
        y: helpusdecide_settings.top - dp(10)
        pos_hint: {"center_x": .5}
        radius: 10
        spacing: "10dp"

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "close-thick"
                pos_hint: {"center_y": .5, "center_x": .5}
                on_release: app.helpusdecide_settings_exit()

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.width / 2 + dp(36), top_bar.height

            ScaleLabel:
                text: "HELPUSDECIDE SETTINGS"
                font_name: "fonts/BrunoAce-Regular.ttf"
                font_size: "18sp"
                bold: True
                adaptive_size: True
                pos_hint: {"center_x": .5, "center_y": .5}

        MDRelativeLayout:
            size_hint: None, None
            size: top_bar.height, top_bar.height

            MDIconButton:
                icon: "check-bold"
                pos_hint: {"center_x": .6, "center_y": .5}
                icon_color: "black"
                font_size: "20dp"
                text_color: "black"
                line_color: 0, 0, 0, 0
                on_release: app.helpusdecide_save_settings()

    MDSeparator:
        pos_hint: {"center_x": .5}
        size_hint_x: None
        width: helpusdecide_settings_settings.width * 1.1
        color: "black"
        y: helpusdecide_settings.top - dp(10)

    MDBoxLayout:
        orientation: "vertical"
        size_hint: 1.16, None
        height: "250dp"
        y: helpusdecide_settings.top - self.height - dp(20)
        pos_hint: {"center_x": .5}
        radius: 10

        MDFloatLayout:
            id: rounds_and_teams_box
            size_hint_y: .25

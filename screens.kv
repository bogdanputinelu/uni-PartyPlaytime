#: import WipeTransition kivy.uix.screenmanager.WipeTransition
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import FallOutTransition kivy.uix.screenmanager.FallOutTransition
#: import utils kivy.utils

WindowManager:
    WelcomeScreen:
    PartyPlaytime:
    BoardBlitz:
    WordRush:
    Headspin:
    HeadspinRules:
    HeadspinSettings:
    HeadspinPlay:
    TicTacToe:
    HelpUsDecide:

<ScreenManager>:
    transition: FadeTransition()

<WelcomeScreen>:
    name: "welcome"

    canvas:
        Color:
            rgba: utils.get_color_from_hex("#437B56")
        Rectangle:
            pos: self.pos
            size: self.size

    AnchorLayout:
        size: root.width, root.height
        anchor_x: "center"
        anchor_y: "center"

        Video:
            source: "StartLogo.mp4"
            state: "play"
            size_hint: 0.5, 0.5
            on_eos:
                app.root.current = "party"
                app.root.transition = FadeTransition(duration=0.10)


<PartyPlaytime>:
    name: "party"

    canvas:
        Color:
            rgba: utils.get_color_from_hex("#437B56")
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "PartyPlaytime"
            font_size: 32

        BoxLayout:
            AnchorLayout:
                size_hint: 0.33, 1
                anchor_x: "center"
                anchor_y: "center"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.blitz_image.source = "logos/Board_Blitz_-_Logo_pressed.png"
                    on_release:
                        root.ids.blitz_image.source = "logos/Board_Blitz_-_Logo.png"
                        app.root.current = "blitz"
                    Image:
                        id: blitz_image
                        source: "logos/Board_Blitz_-_Logo.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
            AnchorLayout:
                size_hint: 0.33, 1
                anchor_x: "center"
                anchor_y: "center"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.spin_image.source = "logos/Headspin_-_Logo_pressed.png"
                    on_release:
                        root.ids.spin_image.source = "logos/Headspin_-_Logo.png"
                        app.root.current = "spin"
                    Image:
                        id: spin_image
                        source: "logos/Headspin_-_Logo.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
            AnchorLayout:
                size_hint: 0.33, 1
                anchor_x: "center"
                anchor_y: "center"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.rush_image.source = "logos/Word_Rush_-_Logo_pressed.png"
                    on_release:
                        root.ids.rush_image.source = "logos/Word_Rush_-_Logo.png"
                        app.root.current = "rush"
                    Image:
                        id: rush_image
                        source: "logos/Word_Rush_-_Logo.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

        BoxLayout:
            AnchorLayout:
                size_hint: 0.33, 1
                anchor_x: "right"
                anchor_y: "center"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.tic_image.source = "logos/Tic_Tac_Toe_-_Logo_pressed.png"
                    on_release:
                        root.ids.tic_image.source = "logos/Tic_Tac_Toe_-_Logo.png"
                        app.root.current = "tic"
                    Image:
                        id: tic_image
                        source: "logos/Tic_Tac_Toe_-_Logo.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
            AnchorLayout:
                size_hint: 0.33, 1
            AnchorLayout:
                size_hint: 0.33, 1
                anchor_x: "left"
                anchor_y: "center"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.decide_image.source = "logos/Help_Us_Decide_-_Logo_pressed.png"
                    on_release:
                        root.ids.decide_image.source = "logos/Help_Us_Decide_-_Logo.png"
                        app.root.current = "decide"
                    Image:
                        id: decide_image
                        source: "logos/Help_Us_Decide_-_Logo.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

        Label:
            text: "Games row 3"

<BoardBlitz>:
    name: "blitz"

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "BoardBlitz"
            font_size: 32

        Button:
            text: "Click to go to PartyPlaytime"
            font_size: 32
            on_release: app.root.current = "party"

<WordRush>:
    name: "rush"

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "WordRush"
            font_size: 32

        Button:
            text: "Click to go to PartyPlaytime"
            font_size: 32
            on_release: app.root.current = "party"

<Headspin>:
    name: "spin"

    canvas:
        Color:
            rgba: utils.get_color_from_hex("#CBDDD1")
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "Headspin"
            font_size: 32
            color: utils.get_color_from_hex("#437B56")

        BoxLayout:
            AnchorLayout:
                size_hint: 0.33, 1
                anchor_x: "center"
                anchor_y: "center"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.settings_image.source = "logos/Settings.png"
                    on_release:
                        root.ids.settings_image.source = "logos/Settings.png"
                        app.root.current = "headspinSettings"
                    Image:
                        id: settings_image
                        source: "logos/Settings.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
            AnchorLayout:
                size_hint: 0.33, 1
                anchor_x: "center"
                anchor_y: "center"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.rules_image.source = "logos/Rules.png"
                    on_release:
                        root.ids.rules_image.source = "logos/Rules.png"
                        app.root.current = "headspinRules"
                    Image:
                        id: rules_image
                        source: "logos/Rules.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

        BoxLayout:
            AnchorLayout:
                size_hint: 0.50, 1
                anchor_x: "left"
                anchor_y: "bottom"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.back_image.source = "logos/Back.png"
                    on_release:
                        root.ids.back_image.source = "logos/Back.png"
                        app.root.current = "party"
                    Image:
                        id: back_image
                        source: "logos/Back.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
            AnchorLayout:
                size_hint: 0.50, 1
                anchor_x: "right"
                anchor_y: "bottom"
                Button:
                    size_hint: 0.4, 0.67
                    background_color: 0, 0, 0, 0
                    on_press: root.ids.play_image.source = "logos/Play.png"
                    on_release:
                        root.ids.play_image.source = "logos/Play.png"
                        app.root.current = "headspinPlay"
                    Image:
                        id: play_image
                        source: "logos/Play.png"
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

<HeadspinRules>:
    name: "headspinRules"

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "Headspin Rules"
            font_size: 32

        Label:
            text: "Collect as many points as possible by guessing who is on the card using only audience clues. At each stage of the game, one player from each team will stay behind the computer, without seeing the card displayed on the screen. Each player will have two minutes to guess as many cards as possible. The other players will yell out clues for the first player. The first player will try to guess who is on their card until they either guess the correct answer or they decide to pass. If the player guesses correctly they have a point. If they pass, the first card is discarded and another card will be displayed on the screen. The player continues to guess cards until the two minutes is complete. Repeat until every player has had a chance to be the guesser. After everyone has had their turn, each team counts their cards and the team with the most cards wins."

        Button:
            text: "Click to go back to Headspin Menu"
            font_size: 32
            on_release: app.root.current = "spin"

<HeadspinSettings>:
    name: "headspinSettings"

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "Game Settings"
            font_size: 32

        Button:
            text: "Click to go to back to Headspin Menu"
            font_size: 32
            on_release: app.root.current = "spin"

<HeadspinPlay>
    name: "headspinPlay"

    canvas:
        Color:
            rgba: utils.get_color_from_hex("#CBDDD1")
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        BoxLayout:
            AnchorLayout:
                size_hint: 0.50, 1
                anchor_x: "left"
                anchor_y: "bottom"
                Label:
                    text: "ROUND"
                    font_size: 32
                    color: utils.get_color_from_hex("#437B56")
            AnchorLayout:
                size_hint: 0.50, 1
                anchor_x: "right"
                anchor_y: "bottom"
                Label:
                    text: "TIMER"
                    font_size: 32
                    color: utils.get_color_from_hex("#437B56")

        Label:
            text: "aici o sa apara cuvantu"
            font_size: 32
            color: utils.get_color_from_hex("#437B56")

        BoxLayout:
            AnchorLayout:
                size_hint: 0.50, 1
                anchor_x: "left"
                anchor_y: "bottom"
                Button:
                    text: "Check"
                    font_size: 32
                    color: utils.get_color_from_hex("#437B56")
                    background_color: utils.get_color_from_hex("#437B56")
                    on_release: app.root.current = "headspinPlay"
            AnchorLayout:
                size_hint: 0.50, 1
                anchor_x: "right"
                anchor_y: "bottom"
                Button:
                    text: "Pass"
                    font_size: 32
                    color: utils.get_color_from_hex("#437B56")
                    background_color: utils.get_color_from_hex("#437B56")
                    on_release: app.root.current = "headspinPlay"

<TicTacToe>:
    name: "tic"

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "TicTacToe"
            font_size: 32

        Button:
            text: "Click to go to PartyPlaytime"
            font_size: 32
            on_release: app.root.current = "party"

<HelpUsDecide>:
    name: "decide"

    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text: "HelpUsDecide"
            font_size: 32

        Button:
            text: "Click to go to PartyPlaytime"
            font_size: 32
            on_release: app.root.current = "party"